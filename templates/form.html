<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ê³¼ì„¸ìë£Œ ì œì¶œ ì»¨ì„¤íŒ… ê²¬ì ì„œ ìƒì„±ê¸° - ì„œë¹„ìŠ¤ ì„ íƒ</title>
  <style>

    h1 {
      text-align: center;
      margin-bottom: 20px;
    }
    h2 {
      text-align: center;
      margin-top: 30px;
      margin-bottom: 10px;
      font-size: 18px;
    }
    .form-group {
      margin-bottom: 20px;
    }
    label {
      font-weight: bold;
    }
    input[type="text"] {
      padding: 8px;
      width: 300px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }
    th, td {
      border: 1px solid #aaa;
      padding: 10px;
      text-align: center;
    }
    th {
      background-color: #f0f0f0;
    }
    .submit-btn {
      display: block;
      margin: 0 auto;
      background-color: #050725;
      border: none;
      padding: 12px 24px;
      color: white;
      font-size: 16px;
      border-radius: 10px;
      cursor: pointer;
    }
    input[type="number"], select {
      width: 80px;
    }
    small {
      font-size: 0.85em;
      color: #555;
    }

    body {
  font-family: 'Segoe UI', 'Helvetica Neue', sans-serif;
  background-color: #fff;
  color: #333;
  padding: 60px;
  font-size: 14px;
  line-height: 1.6;
}

h1 {
  font-size: 32px;
  font-weight: 600;
  margin-bottom: 10px;
}

h2 {
  font-size: 18px;
  font-weight: 500;
  margin-top: 40px;
  margin-bottom: 10px;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
  margin-bottom: 40px;
}

th, td {
  border: 1px solid #ddd;
  padding: 12px 10px;
  text-align: left;
}

th {
  background-color: #f9f9f9;
  font-weight: 600;
}

tfoot td {
  border-top: 2px solid #333;
  font-weight: bold;
}

.total {
  font-size: 20px;
  font-weight: 700;
  color: #000;
  text-align: right;
  margin-top: 10px;
}

  </style>
</head>
<body>
  <h1>ê³¼ì„¸ìë£Œ ì œì¶œ ì»¨ì„¤íŒ… ê²¬ì ì„œ ìƒì„±ê¸°</h1>
  <hr>
  <form method="post" action="/generate">
    <div class="form-group">
      <label for="company">íšŒì‚¬ëª…:</label>
      <input type="text" id="company" name="company" required placeholder="íšŒì‚¬ëª…ì„ ì…ë ¥í•˜ì„¸ìš”">
    </div>

    <div class="form-group">
      <label for="doc_number">ë¬¸ì„œë²ˆí˜¸:</label>
      <input type="text" id="doc_number" name="doc_number" required placeholder="ìˆ«ì 3ìë¦¬ ì…ë ¥">
    </div>

    <h2>ì„œë¹„ìŠ¤ í•­ëª© ì„ íƒ</h2>

    <table>
      <thead>
        <tr>
          <th>âœ” í¬í•¨</th>
          <th>í•­ëª©</th>
          <th>ì„ íƒ / ìˆ˜ëŸ‰</th>
          <th>ë‹¨ê°€</th>
          <th>í•©ê³„</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><input type="checkbox" id="includeBase"></td>
          <td><b>ê±°ë˜êµ¬ì¡° ë° ê³¼ì„¸ìë£Œ ì œì¶œ ë²”ìœ„ ê²€í† </b></td>
          <td>
            ê±°ë˜ì²˜ ìˆ˜: <input type="number" id="partners" value="10"><br>
            ìˆ˜ì…ê¸ˆì•¡: 
            <select id="importAmount">
              <option value="1">50ì–µ ë¯¸ë§Œ</option>
              <option value="2">50~100ì–µ</option>
              <option value="3">100~200ì–µ</option>
              <option value="4">200~500ì–µ</option>
              <option value="5">500ì–µ ì´ìƒ</option>
            </select>
          </td>
          <td>-</td>
          <td id="baseCost">0</td>
        </tr>

        <tr>
          <td><input type="checkbox" id="includeReason"></td>
          <td><b>ê³¼ì„¸ìë£Œ ë¯¸ì œì¶œ ì‚¬ìœ ì„œ ì‘ì„± ì§€ì›</b></td>
          <td>
            <label><input type="radio" name="reason" value="basic" checked> ê±°ë˜ ì‚¬ì‹¤ ì—†ìŒ</label><br>
            <label><input type="radio" name="reason" value="missing"> ê±°ë˜ ìˆìŒ + ìë£Œ ë¯¸ì œì¶œ<br>
            í•­ëª© ìˆ˜: <input type="number" id="missingItems" value="0" min="0"></label>
          </td>
          <td>ê¸°ë³¸ 100,000 + í•­ëª©ë‹¹ 30,000</td>
          <td id="reasonCost">0</td>
        </tr>

        <tr>
          <td><input type="checkbox" id="includeDoc"></td>
          <td><b>ê³¼ì„¸ìë£Œ ì œì¶œ ì„œë¥˜ ì •ë¹„ ë° ì „ìì œì¶œ ëŒ€í–‰</b></td>
          <td>ê±°ë˜ì²˜ ìˆ˜: <input type="number" id="docPartners" value="10"></td>
          <td>50,000ì›</td>
          <td id="docCost">0</td>
        </tr>

        <tr>
          <td><input type="checkbox" id="includeReport"></td>
          <td><b>ê³¼ì„¸ê°€ê²© ê²°ì • ì‚¬ìœ  ë³´ê³ ì„œ ì‘ì„±</b><br><small>(ë¡œì—´í‹°, ìƒì‚°ì§€ì›ë¹„ ë“± í•´ë‹¹ í•­ëª©ë³„)</small></td>
          <td>
            <label><input type="checkbox" class="priceItem"> ë¡œì—´í‹°</label><br>
            <label><input type="checkbox" class="priceItem"> ìƒì‚°ì§€ì›ë¹„</label><br>
            <label><input type="checkbox" class="priceItem"> ìˆ˜ìˆ˜ë£Œ/ì¤‘ê°œë£Œ</label><br>
            <label><input type="checkbox" class="priceItem"> ìš´ì„/ë³´í—˜ë£Œ</label><br>
            <label><input type="checkbox" class="priceItem"> ìš©ê¸°/í¬ì¥ë¹„</label><br>
            <label><input type="checkbox" class="priceItem"> ì‚¬í›„ê·€ì†ì´ìµ</label><br>
            <label><input type="checkbox" class="priceItem"> ê°„ì ‘ì§€ê¸‰ê¸ˆì•¡</label>
          </td>
          <td>1,000,000ì›/í•­ëª©</td>
          <td id="priceReportCost">0</td>
        </tr>

        <tr>
          <td><input type="checkbox" id="includeRelated"></td>
          <td><b>íŠ¹ìˆ˜ê´€ê³„ì ê±°ë˜ ë¶„ì„ ë° ì´ì „ê°€ê²© ê²€í†  ë¦¬í¬íŠ¸</b></td>
          <td>
            ê±°ë˜ì²˜ ìˆ˜: <input type="number" id="relatedPartners" value="10"><br>
            ìˆ˜ì…ê¸ˆì•¡:
            <select id="relatedImportAmount">
              <option value="1">50ì–µ ë¯¸ë§Œ</option>
              <option value="2">50~100ì–µ</option>
              <option value="3">100~200ì–µ</option>
              <option value="4">200~500ì–µ</option>
              <option value="5">500ì–µ ì´ìƒ</option>
            </select>
          </td>
          <td>-</td>
          <td id="relatedCost">0</td>
        </tr>
      </tbody>

      <tfoot>
        <tr>
          <th colspan="4">ì´ í•©ê³„</th>
          <th id="totalCost">0</th>
        </tr>
      </tfoot>
    </table>

    <br>
    <button type="button" onclick="calculate()">ğŸ’° ê²¬ì  ê³„ì‚°í•˜ê¸°</button>
    <br><br>
    
    <input type="hidden" name="totalCost" id="hiddenTotalCost">
    <input type="hidden" name="baseCost" id="hiddenBaseCost">
    <input type="hidden" name="reasonCost" id="hiddenReasonCost">
    <input type="hidden" name="docCost" id="hiddenDocCost">
    <input type="hidden" name="reportCost" id="hiddenReportCost">
    <input type="hidden" name="relatedCost" id="hiddenRelatedCost">


    <button type="submit" class="submit-btn" onclick="calculate()">ê²¬ì ì„œ ìƒì„±</button>
    <div id="serviceInputs"></div>

  </form>

  <script>

function calculate() {
  let total = 0;

  let baseCost = 0;
  if (document.getElementById("includeBase").checked) {
    const partners = parseInt(document.getElementById("partners").value);
    const amountTier = parseInt(document.getElementById("importAmount").value);
    const baseMatrix = [
      [300000, 400000, 500000, 600000, 700000],
      [400000, 500000, 600000, 700000, 800000],
      [600000, 700000, 800000, 900000, 1000000],
      [800000, 900000, 1000000, 1100000, 1200000]
    ];
    let row = partners <= 10 ? 0 : partners <= 30 ? 1 : partners <= 100 ? 2 : 3;
    baseCost = baseMatrix[row][amountTier - 1];
    total += baseCost;
  }
  document.getElementById("baseCost").innerText = baseCost.toLocaleString();

  let reasonCost = 0;
  if (document.getElementById("includeReason").checked) {
    const reasonType = document.querySelector('input[name="reason"]:checked').value;
    const missingCount = parseInt(document.getElementById("missingItems").value);
    reasonCost = reasonType === "basic" ? 100000 : 100000 + (missingCount * 30000);
    total += reasonCost;
  }
  document.getElementById("reasonCost").innerText = reasonCost.toLocaleString();

  let docCost = 0;
  if (document.getElementById("includeDoc").checked) {
    const docPartners = parseInt(document.getElementById("docPartners").value);
    docCost = docPartners * 50000;
    total += docCost;
  }
  document.getElementById("docCost").innerText = docCost.toLocaleString();

  let reportCost = 0;
  if (document.getElementById("includeReport").checked) {
    const checkedItems = document.querySelectorAll(".priceItem:checked").length;
    reportCost = checkedItems * 1000000;
    total += reportCost;
  }
  document.getElementById("priceReportCost").innerText = reportCost.toLocaleString();

  let relatedCost = 0;
  if (document.getElementById("includeRelated").checked) {
    const relatedPartners = parseInt(document.getElementById("relatedPartners").value);
    const relatedTier = parseInt(document.getElementById("relatedImportAmount").value);
    const relatedMatrix = [
      [3000000, 4000000, 5000000, 6000000, 7000000],
      [4000000, 5000000, 6000000, 7000000, 8000000],
      [5000000, 6000000, 7000000, 8000000, 9000000],
      [6000000, 7000000, 8000000, 9000000, 10000000]
    ];
    let row = relatedPartners <= 10 ? 0 : relatedPartners <= 30 ? 1 : relatedPartners <= 50 ? 2 : 3;
    relatedCost = relatedMatrix[row][relatedTier - 1];
    total += relatedCost;
  }
  document.getElementById("relatedCost").innerText = relatedCost.toLocaleString();

  // ğŸ‘‰ ì´í•© í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
  document.getElementById("totalCost").innerText = total.toLocaleString();

  // ğŸ‘‰ ìˆ¨ê²¨ì§„ input ê°’ ì—…ë°ì´íŠ¸
  document.getElementById("hiddenTotalCost").value = total;
  document.getElementById("hiddenBaseCost").value = baseCost;
  document.getElementById("hiddenReasonCost").value = reasonCost;
  document.getElementById("hiddenDocCost").value = docCost;
  document.getElementById("hiddenReportCost").value = reportCost;
  document.getElementById("hiddenRelatedCost").value = relatedCost;

const serviceInputs = document.getElementById("serviceInputs");
serviceInputs.innerHTML = ""; // ì´ˆê¸°í™”

if (document.getElementById("includeBase").checked) {
  const label = "ê±°ë˜êµ¬ì¡° ë° ê³¼ì„¸ìë£Œ ì œì¶œ ë²”ìœ„ ê²€í† ";
  serviceInputs.innerHTML += `<input type="hidden" name="service" value="${label}">`;
  serviceInputs.innerHTML += `<input type="hidden" name="price" value="${baseCost}">`;
}

if (document.getElementById("includeReason").checked) {
  const label = "ê³¼ì„¸ìë£Œ ë¯¸ì œì¶œ ì‚¬ìœ ì„œ ì‘ì„± ì§€ì›";
  serviceInputs.innerHTML += `<input type="hidden" name="service" value="${label}">`;
  serviceInputs.innerHTML += `<input type="hidden" name="price" value="${reasonCost}">`;
}

if (document.getElementById("includeDoc").checked) {
  const label = "ê³¼ì„¸ìë£Œ ì œì¶œ ì„œë¥˜ ì •ë¹„ ë° ì „ìì œì¶œ ëŒ€í–‰";
  serviceInputs.innerHTML += `<input type="hidden" name="service" value="${label}">`;
  serviceInputs.innerHTML += `<input type="hidden" name="price" value="${docCost}">`;
}

if (document.getElementById("includeReport").checked) {
  const label = "ê³¼ì„¸ê°€ê²© ê²°ì • ì‚¬ìœ  ë³´ê³ ì„œ ì‘ì„±";
  serviceInputs.innerHTML += `<input type="hidden" name="service" value="${label}">`;
  serviceInputs.innerHTML += `<input type="hidden" name="price" value="${reportCost}">`;
}

if (document.getElementById("includeRelated").checked) {
  const label = "íŠ¹ìˆ˜ê´€ê³„ì ê±°ë˜ ë¶„ì„ ë° ì´ì „ê°€ê²© ê²€í†  ë¦¬í¬íŠ¸";
  serviceInputs.innerHTML += `<input type="hidden" name="service" value="${label}">`;
  serviceInputs.innerHTML += `<input type="hidden" name="price" value="${relatedCost}">`;
}


}


  </script>
</body>
</html>
